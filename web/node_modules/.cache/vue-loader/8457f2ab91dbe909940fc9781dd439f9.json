{"remainingRequest":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\src\\components\\personal\\content.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\src\\components\\personal\\content.vue","mtime":1698399623186},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJDb250ZW50IiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGlzcGxheTogZmFsc2UsDQogICAgICBpbWdTcmM6IHJlcXVpcmUoIkAvYXNzZXRzL2ltZzEud2VicCIpLA0KICAgICAgZm9ybTogew0KICAgICAgICBwaWM6ICIiLA0KICAgICAgICB0aXRsZTogIiIsDQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICBzZXg6ICIiLA0KICAgICAgICBkYXRlOiAiIiwNCiAgICAgICAgc2lnbmF0dXJlOiAiIiwNCiAgICAgICAgc2Nob29sOiAiIiwNCiAgICAgIH0sDQogICAgICBpbWFnZVVybDogIiIsDQogICAgICB1c2VyT2JqOiB7fSwNCiAgICAgIHVzZXJJZDogJycsDQogICAgICBpbWcxOiAnJywNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0VXNlckluZm8oKTsNCiAgIC8vIHRoaXMuaXNSZWQoKQ0KICAgdGhpcy5uZXdMaWtlcygpDQogICAgDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBuZXdMaWtlcygpIHsNCiAgICAgIHZhciBfc2VsZiA9IHRoaXM7DQogICAgICB2YXIgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9ub3RpY2UvbGlzdCI7DQogICAgICBfc2VsZi4kYXhpb3MNCiAgICAgICAgLmdldCh1cmwpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5paw5raI5oGvJyxyZXMuZGF0YSkNCiAgICAgICAgICAgICAgLy9sZXQgYXJncyA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgICAgIC8vIGxldCBsaXN0ID0gW10NCiAgICAgICAgICAgICAgLy8gYXJncy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAvLyAgIGxpc3QucHVzaChpdGVtLnVzZXJJZCkNCiAgICAgICAgICAgICAgLy8gfSk7DQogICAgICAgICAgICAgIC8vX3NlbGYuZm9sbG93TGlzdCA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgICAvLyAgICBfc2VsZi51c2VyT2JqID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRVc2VySW5mbygpIHsNCg0KICAgICAgdmFyIF9zZWxmID0gdGhpczsNCiAgICAgIHZhciB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VzZXJJbmZvIjsNCiAgICAgIF9zZWxmLiRheGlvcw0KICAgICAgICAuZ2V0KHVybCkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICAgICAgDQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnlKjmiLfkv6Hmga8nLHJlcy5kYXRhKQ0KICAgICAgICAgICAgICAvL2xldCBhcmdzID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgLy8gbGV0IGxpc3QgPSBbXQ0KICAgICAgICAgICAgICAvLyBhcmdzLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgIC8vICAgbGlzdC5wdXNoKGl0ZW0udXNlcklkKQ0KICAgICAgICAgICAgICAvLyB9KTsNCiAgICAgICAgICAgICAgLy9fc2VsZi5mb2xsb3dMaXN0ID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgX3NlbGYudXNlck9iaiA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteXVzZXJJZCcscmVzLmRhdGEuZGF0YS51c2VySWQpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgY2hhbmdlU3RhdHVzKCkgew0KICAgICAgdGhpcy5kaXNwbGF5ID0gdHJ1ZTsNCiAgICB9LA0KICAgIHN1Ym1pdEZvcm0oKSB7DQogICAgICBjb25zb2xlLmxvZygi5o+Q5Lqk5L+u5pS55YaF5a65Iik7DQogICAgICB0aGlzLmRpc3BsYXkgPSBmYWxzZTsNCiAgICB9LA0KICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7DQogICAgICAvL2NvbnNvbGUubG9nKCflm77niYfot6/lvoQnLHJlcykNCiAgICAgIHRoaXMuaW1nMSA9IHJlcy5kYXRhOw0KICAgICAgdGhpcy5pbWFnZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOw0KICAgIH0sDQogICAgYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsNCiAgICAgIGNvbnN0IGlzSlBHID0gZmlsZS50eXBlID09PSAiaW1hZ2UvanBlZyI7DQogICAgICBjb25zdCBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7DQoNCiAgICAgIGlmICghaXNKUEcpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5LiK5Lyg5aS05YOP5Zu+54mH5Y+q6IO95pivIEpQRyDmoLzlvI8hIik7DQogICAgICB9DQogICAgICBpZiAoIWlzTHQyTSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CISIpOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGlzSlBHICYmIGlzTHQyTTsNCiAgICB9LA0KICAgIHN1Ym1pdCgpIHsNCiAgICAgIC8vIGxldCBjb25maWcgPSB7DQogICAgICAvLyAgIHRpbWVvdXQ6IDMwMDAwLA0KICAgICAgLy8gICBoZWFkZXJzOiB7DQogICAgICAvLyAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiwgLy/orr7nva5oZWFkZXJzDQogICAgICAvLyAgIH0sDQogICAgICAvLyB9Ow0KICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgIHZhciB0aGF0ID0gdGhpczsNCiAgICAgIC8vIOmmluWFiOWIpOaWreaYr+WQpuS4iuS8oOS6huWbvueJh++8jOWmguaenOS4iuS8oOS6huWbvueJh++8jOWwhuWbvueJh+WtmOWFpeWIsGZvcm1EYXRh5LitDQogICAgICBjb25zb2xlLmxvZyh0aGlzLmltYWdlVXJsKTsNCiAgICAgIGlmICh0aGlzLmRhdGFMaXN0KSB7DQogICAgICAgIHRoYXQuZGF0YUxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtKQ0KICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChpbmRleCwgaXRlbSk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgLy8gY29uc29sZS5sb2coZm9ybURhdGEuZ2V0KDApKTsNCiAgICAgIC8vIHRoYXQuJGF4aW9zDQogICAgICAvLyAgIC5wb3N0KA0KICAgICAgLy8gICAgICdodHRwOi8vbG9jYWxob3N0OjgwODAvdXBsb2FkL2ltYWdlcycsIC8v6K+35rGC5ZCO56uv55qEdXJsDQogICAgICAvLyAgICAgZm9ybURhdGEsDQogICAgICAvLyAgICAgY29uZmlnDQogICAgICAvLyAgICkNCiAgICAgIC8vICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAvLyAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAib2siKSB7DQogICAgICAvLyAgICAgICAvL+S4iuS8oOaIkOWKnw0KICAgICAgLy8gICAgICAgY29uc29sZS5sb2coIuS4iuS8oOaIkOWKnyIpOw0KICAgICAgLy8gICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgLy8gICAgICAgICBwYXRoOiAiLi8iLA0KICAgICAgLy8gICAgICAgfSk7DQogICAgICAvLyAgICAgfSBlbHNlIHsNCiAgICAgIC8vICAgICAgIGFsZXJ0KCLkuIrkvKDlpLHotKUiKTsNCiAgICAgIC8vICAgICB9DQogICAgICAvLyAgIH0pDQogICAgICAvLyAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgIC8vICAgICBjb25zb2xlLmxvZygi6K+35rGC5aSx6LSlIik7DQogICAgICAvLyAgIH0pOw0KDQogICAgICBsZXQgc2V4ID0gdGhhdC5mb3JtLnNleCA9PSAn55S3JyA/IDEgOiAwOw0KICAgICAgICBsZXQgdXNlciA9IHsNCiAgICAgICAgICBuaWNrbmFtZTp0aGF0LmZvcm0udGl0bGUsIA0KICAgICAgICAgIHNleDogc2V4LA0KICAgICAgICAgIHNjaG9vbDogdGhhdC5mb3JtLnNjaG9vbCwNCiAgICAgICAgICBzaWduYXR1cmU6IHRoYXQuZm9ybS5zaWduYXR1cmUsDQogICAgICAgICAgdXNlcklkOiB0aGF0LnVzZXJPYmoudXNlcklkLA0KICAgICAgICAgIGF2YXRhcjogdGhhdC5pbWcxLA0KICAgICAgICB9DQogICAgICAgIGxldCB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VwZGF0ZS91c2VySW5mbycNCiAgICAgICAgdGhhdC4kYXhpb3MNCiAgICAgICAgICAucG9zdCh1cmwgLHVzZXIsIHsNCiAgICAgICAgICAgIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgiICwNCiAgICAgICAgICAgICAgLy8iQ29va2llIjogdGhpcy5teUNvb2tpZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwNCiAgICAgICAgICAgIC8vYmFzZVVSTDogJy9hcGlzJw0KICAgICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICAgICAgICAgdGhhdC5pbnB1dCA9ICcnOw0KICAgICAgICAgICAgICAgICB0aGF0LmNvbnRlbnQgPSAnJzsNCiAgICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MoIue8lui+keS/oeaBr+aIkOWKnyIpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgDQogICAgICAgICAgICAgIG5hbWU6J2luZGV4JywNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgICB9KTsNCiAgICAgIC8v55So5oi35Y+v5Lul5Zyo5LiK5Lyg5a6M5oiQ5LmL5ZCO5bCG5pWw57uE57uZ5riF56m677yM6L+Z6YeM55u05o6l6Lez6L2s5Yiw6aaW6aG15LqG77yM5rKh5pyJ5YGa5riF56m655qE5pON5L2cDQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["content.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"content.vue","sourceRoot":"src/components/personal","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"info\">基本信息</div>\r\n    <el-row>\r\n      <el-col :span=\"12\" style=\"border-right: 1px #eee solid\">\r\n        <div style=\"display: flex; margin-bottom: 20px\">\r\n          <p style=\"font-size: 14px; color: #333; margin-left: 80px\">\r\n            我的昵称：\r\n          </p>\r\n          <p style=\"font-size: 14px; color: #999; margin-left: 10px\">\r\n            {{userObj.nickname}}\r\n          </p>\r\n        </div>\r\n        <div style=\"display: flex; margin-bottom: 30px\">\r\n          <p style=\"font-size: 14px; color: #333; margin-left: 80px\">\r\n            我的图像：\r\n          </p>\r\n          <el-avatar\r\n            :size=\"40\"\r\n            :src=\"userObj.avatar\"\r\n            style=\"font-size: 14px; color: #999; margin-left: 10px\"\r\n          ></el-avatar>\r\n          <!-- <p style=\"font-size: 14px; color: #999; margin-left: 10px\">\r\n            15019689912\r\n          </p> -->\r\n        </div>\r\n        <!-- <div style=\"display: flex; margin-bottom: 30px\">\r\n          <p style=\"font-size: 14px; color: #333; margin-left: 80px\">\r\n            真实姓名：\r\n          </p>\r\n          <p style=\"font-size: 14px; color: #999; margin-left: 10px\">喵喵</p>\r\n        </div> -->\r\n        <div style=\"display: flex; margin-bottom: 30px\">\r\n          <p style=\"font-size: 14px; color: #333; margin-left: 80px\">\r\n            我的性别：\r\n          </p>\r\n          <p style=\"font-size: 14px; color: #999; margin-left: 10px\">女</p>\r\n        </div>\r\n        <div style=\"display: flex; margin-bottom: 30px\">\r\n          <p style=\"font-size: 14px; color: #333; margin-left: 80px\">\r\n            我的学校：\r\n          </p>\r\n          <p style=\"font-size: 14px; color: #999; margin-left: 10px\">\r\n            {{userObj.school}}\r\n          </p>\r\n        </div>\r\n        <!-- <div style=\"display: flex; margin-bottom: 30px\">\r\n          <p style=\"font-size: 14px; color: #333; margin-left: 80px\">\r\n            毕业年份：\r\n          </p>\r\n          <p style=\"font-size: 14px; color: #999; margin-left: 10px\">\r\n            2021-07-01\r\n          </p>\r\n        </div> -->\r\n        <div style=\"display: flex; margin-bottom: 30px\">\r\n          <p style=\"font-size: 14px; color: #333; margin-left: 80px\">\r\n            个性签名：\r\n          </p>\r\n          <p style=\"font-size: 14px; color: #999; margin-left: 10px\">嘿嘿嘿</p>\r\n        </div>\r\n        <el-button\r\n          style=\"margin-top: 62px\"\r\n          type=\"primary\"\r\n          @click=\"changeStatus()\"\r\n          >编辑</el-button\r\n        >\r\n      </el-col>\r\n      <el-col :span=\"12\" v-if=\"display == true\">\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"100px\" size=\"small\">\r\n          <el-form-item label=\"图像\" prop=\"pic\" class=\"changeImg\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              action=\"http://localhost:8080/upload/images\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"handleAvatarSuccess\"\r\n              :before-upload=\"beforeAvatarUpload\"\r\n              name=\"file\"\r\n            >\r\n              <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"昵称\">\r\n            <el-input v-model=\"form.title\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"学校\">\r\n            <el-input v-model=\"form.school\"></el-input>\r\n          </el-form-item>\r\n          <!-- <el-form-item label=\"真实姓名\">\r\n            <el-input\r\n              v-model=\"form.name\"\r\n              placeholder=\"请输入你的真实姓名\"\r\n            ></el-input>\r\n          </el-form-item> -->\r\n          <el-form-item label=\"性别\">\r\n            <el-radio-group v-model=\"form.sex\">\r\n              <el-radio label=\"男\"></el-radio>\r\n              <el-radio label=\"女\"></el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <!-- <el-form-item label=\"毕业年份\">\r\n            <el-date-picker\r\n              type=\"date\"\r\n              placeholder=\"选择日期\"\r\n              v-model=\"form.date\"\r\n              style=\"width: 100%\"\r\n            ></el-date-picker>\r\n          </el-form-item> -->\r\n          <el-form-item label=\"个性签名\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              v-model=\"form.signature\"\r\n              placeholder=\"懒的连签名都没有....\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <el-button\r\n            style=\"margin-top: 20px\"\r\n            size=\"max\"\r\n            type=\"primary\"\r\n            @click=\"submit()\"\r\n            >提交</el-button\r\n          >\r\n        </el-form>\r\n      </el-col>\r\n      <el-col :span=\"12\" v-else>\r\n        <div></div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Content\",\r\n  data() {\r\n    return {\r\n      display: false,\r\n      imgSrc: require(\"@/assets/img1.webp\"),\r\n      form: {\r\n        pic: \"\",\r\n        title: \"\",\r\n        name: \"\",\r\n        sex: \"\",\r\n        date: \"\",\r\n        signature: \"\",\r\n        school: \"\",\r\n      },\r\n      imageUrl: \"\",\r\n      userObj: {},\r\n      userId: '',\r\n      img1: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getUserInfo();\r\n   // this.isRed()\r\n   this.newLikes()\r\n    \r\n  },\r\n  methods: {\r\n    newLikes() {\r\n      var _self = this;\r\n      var url = \"http://localhost:8080/notice/list\";\r\n      _self.$axios\r\n        .get(url)\r\n        .then((res) => {\r\n          if (res.status == 200) {\r\n            \r\n              console.log('新消息',res.data)\r\n              //let args = res.data.data;\r\n              // let list = []\r\n              // args.forEach(item => {\r\n              //   list.push(item.userId)\r\n              // });\r\n              //_self.followList = res.data.data;\r\n            //    _self.userObj = res.data.data;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    getUserInfo() {\r\n\r\n      var _self = this;\r\n      var url = \"http://localhost:8080/userInfo\";\r\n      _self.$axios\r\n        .get(url)\r\n        .then((res) => {\r\n          if (res.status == 200) {\r\n            \r\n              console.log('用户信息',res.data)\r\n              //let args = res.data.data;\r\n              // let list = []\r\n              // args.forEach(item => {\r\n              //   list.push(item.userId)\r\n              // });\r\n              //_self.followList = res.data.data;\r\n              _self.userObj = res.data.data;\r\n              localStorage.setItem('myuserId',res.data.data.userId)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    changeStatus() {\r\n      this.display = true;\r\n    },\r\n    submitForm() {\r\n      console.log(\"提交修改内容\");\r\n      this.display = false;\r\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      //console.log('图片路径',res)\r\n      this.img1 = res.data;\r\n      this.imageUrl = URL.createObjectURL(file.raw);\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n    submit() {\r\n      // let config = {\r\n      //   timeout: 30000,\r\n      //   headers: {\r\n      //     \"Content-Type\": \"multipart/form-data\", //设置headers\r\n      //   },\r\n      // };\r\n      const formData = new FormData();\r\n      var that = this;\r\n      // 首先判断是否上传了图片，如果上传了图片，将图片存入到formData中\r\n      console.log(this.imageUrl);\r\n      if (this.dataList) {\r\n        that.dataList.forEach((item, index) => {\r\n          // console.log(item)\r\n          formData.append(index, item);\r\n        });\r\n      }\r\n      // console.log(formData.get(0));\r\n      // that.$axios\r\n      //   .post(\r\n      //     'http://localhost:8080/upload/images', //请求后端的url\r\n      //     formData,\r\n      //     config\r\n      //   )\r\n      //   .then((res) => {\r\n      //     console.log(res);\r\n      //     if (res.data.status == \"ok\") {\r\n      //       //上传成功\r\n      //       console.log(\"上传成功\");\r\n      //       this.$router.push({\r\n      //         path: \"./\",\r\n      //       });\r\n      //     } else {\r\n      //       alert(\"上传失败\");\r\n      //     }\r\n      //   })\r\n      //   .catch((error) => {\r\n      //     console.log(\"请求失败\");\r\n      //   });\r\n\r\n      let sex = that.form.sex == '男' ? 1 : 0;\r\n        let user = {\r\n          nickname:that.form.title, \r\n          sex: sex,\r\n          school: that.form.school,\r\n          signature: that.form.signature,\r\n          userId: that.userObj.userId,\r\n          avatar: that.img1,\r\n        }\r\n        let url = 'http://localhost:8080/update/userInfo'\r\n        that.$axios\r\n          .post(url ,user, {\r\n            headers: { \"Content-Type\": \"application/json;charset=utf-8\" ,\r\n              //\"Cookie\": this.myCookie\r\n            },\r\n            withCredentials: true,\r\n            //baseURL: '/apis'\r\n          })\r\n          .then((res) => {\r\n            console.log(res.data);\r\n            if (res.status == 200) {\r\n              if (res.data.code == 0) {\r\n                 that.input = '';\r\n                 that.content = '';\r\n                that.$message.success(\"编辑信息成功\");\r\n              }\r\n              this.$router.push({ \r\n              name:'index',\r\n            })\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      //用户可以在上传完成之后将数组给清空，这里直接跳转到首页了，没有做清空的操作\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.content {\r\n  width: 950px;\r\n  height: 500px;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  .info {\r\n    width: 100%;\r\n    height: 70px;\r\n    line-height: 70px;\r\n    text-align: left;\r\n    padding-left: 30px;\r\n    font-size: 16px;\r\n    &:before {\r\n      content: \"\";\r\n      display: inline-block;\r\n      width: 8px;\r\n      height: 8px;\r\n      border-radius: 50%;\r\n      background: #409eff;\r\n      margin-right: 10px;\r\n      margin-bottom: 2px;\r\n    }\r\n  }\r\n}\r\n.el-input {\r\n  position: relative;\r\n  font-size: 14px;\r\n  display: inline-block;\r\n  width: 90%;\r\n  height: 40px;\r\n  line-height: 40px;\r\n}\r\n\r\n.el-form-item__label {\r\n  text-align: right;\r\n  vertical-align: middle;\r\n  float: left;\r\n  font-size: 14px;\r\n  color: #606266;\r\n  line-height: 40px;\r\n  padding: 0 12px 0 0;\r\n  box-sizing: border-box;\r\n  width: 120px;\r\n}\r\n.avatar-uploader {\r\n  // margin-left: -100px;\r\n  padding-left: -200px;\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 24px;\r\n  color: #8c939d;\r\n  width: 50px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  border: 1px #eee dotted;\r\n  //   text-align: left;\r\n}\r\n.avatar {\r\n  width: 50px;\r\n  height: 50px;\r\n  display: block;\r\n}\r\n.el-form-item--mini.el-form-item,\r\n.el-form-item--small.el-form-item {\r\n  margin-bottom: 15px;\r\n}\r\n.el-form-item__label {\r\n  width: 80px !important;\r\n  font-weight: 500px;\r\n  font-size: 12px;\r\n}\r\nel-date-editor,\r\n.el-date-editor--date {\r\n  width: 90% !important;\r\n}\r\n.el-input--small {\r\n  width: 90% !important;\r\n}\r\n.el-input__inner {\r\n  -webkit-appearance: none;\r\n  background-color: #fff;\r\n  background-image: none;\r\n  border-radius: 4px;\r\n  border: 1px solid #dcdfe6;\r\n  box-sizing: border-box;\r\n  color: #606266;\r\n  display: inline-block;\r\n  font-size: 11px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  outline: 0;\r\n  padding: 0 15px;\r\n  transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  width: 100%;\r\n}\r\n/deep/.el-form-item--small.el-form-item[data-v-087e46ba] {\r\n  margin-bottom: 17px !important;\r\n}\r\n</style>\r\n"]}]}