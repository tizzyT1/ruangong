{"remainingRequest":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\src\\views\\writeArticle.vue?vue&type=style&index=0&id=2f310db1&scoped=true&lang=scss&","dependencies":[{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\src\\views\\writeArticle.vue","mtime":1698399627753},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\postgraduate\\高中数学课程\\高级软工\\wego\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubG9nbyB7DQogIHdpZHRoOiAxNjBweDsNCiAgaGVpZ2h0OiA2MHB4Ow0KICBsaW5lLWhlaWdodDogMjBweDsNCiAgZGlzcGxheTogZmxleDsNCiAgbWFyZ2luLXJpZ2h0OiAxMDBweDsNCiAgbWFyZ2luLXRvcDogMTBweDsNCiAgaW1nIHsNCiAgICB3aWR0aDogNzBweDsNCiAgICBtYXJnaW4tbGVmdDogMTBweDsNCiAgfQ0KICBwIHsNCiAgICBmb250LXNpemU6IDIycHg7DQogICAgbWFyZ2luLXRvcDogMjVweDsNCiAgICBjb2xvcjogcmdiKDYzLCA2MSwgNjEpOw0KICB9DQp9DQovZGVlcC8uZWwtaW5wdXRfX2lubmVyIHsNCiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIGJvcmRlcjogMCAhaW1wb3J0YW50Ow0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICBjb2xvcjogIzYwNjI2NjsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICBmb250LXNpemU6IDI0cHg7DQogIGhlaWdodDogNjBweDsNCiAgLy8gbGluZS1oZWlnaHQ6IDEwMHB4Ow0KICBvdXRsaW5lOiAwOw0KICBwYWRkaW5nOiAwIDQ1cHg7DQogIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjJzIGN1YmljLWJlemllcigwLjY0NSwgMC4wNDUsIDAuMzU1LCAxKTsNCiAgd2lkdGg6IDEwMCU7DQogIC8vIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWJlZWY1Ow0KfQ0KL2RlZXAvLmVsLWNhcmQgew0KICAvLyBib3JkZXI6IDAgIWltcG9ydGFudDsNCiAgYm9yZGVyOiAxcHggc29saWQgI2ViZWVmNTsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgY29sb3I6ICMzMDMxMzM7DQogIHRyYW5zaXRpb246IDAuM3M7DQp9DQovZGVlcC8uZWwtY2FyZF9fYm9keSB7DQogIHBhZGRpbmc6IDEwcHg7DQp9DQovZGVlcC8uZWwtZm9ybS1pdGVtIHsNCiAgbWFyZ2luLWJvdHRvbTogMTJweCAhaW1wb3J0YW50Ow0KfQ0K"},{"version":3,"sources":["writeArticle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"writeArticle.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <!-- <div class=\"header\" style=\"display: flex\"> -->\r\n    <el-row style=\"border-bottom: 1px solid #ebeef5; margin-bottom: 10px\">\r\n      <el-col :span=\"4\">\r\n        <div class=\"logo\">\r\n          <img src=\"../assets/logo.jpg\" alt=\"\" />\r\n          <p>社区</p>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <div\r\n          class=\"write\"\r\n          style=\"\r\n            text-align: left;\r\n            font-size: 20px;\r\n            margin-top: 30px;\r\n            color: #999;\r\n          \"\r\n        >\r\n          <i class=\"el-icon-edit\"></i> 写文章\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"8\" style=\"text-align: right\">\r\n        <el-button type=\"primary\" style=\"margin-top: 20px\" @click=\"Return()\"\r\n          >取消</el-button\r\n        ><el-button\r\n          v-if=\"!isEdit\"\r\n          type=\"primary\"\r\n          style=\"margin-right: 20px\"\r\n          @click=\"Publish()\"\r\n          >发布</el-button\r\n        >\r\n        <el-button\r\n          v-else\r\n          type=\"primary\"\r\n          style=\"margin-right: 20px\"\r\n          @click=\"mode()\"\r\n          >编辑完成</el-button\r\n        >\r\n      </el-col>\r\n    </el-row>\r\n    <el-row>\r\n      <el-col :span=\"24\" style=\"border-bottom: 1px solid #ebeef5\">\r\n        <el-input\r\n          v-model=\"input\"\r\n          placeholder=\"文章标题：一句话说明你遇到的问题或你想分享的经验\"\r\n        ></el-input>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row>\r\n      <el-col :span=\"19\" style=\"margin-left: 10px\">\r\n        <el-form\r\n          :model=\"ruleForm\"\r\n          :rules=\"rules\"\r\n          ref=\"ruleForm\"\r\n          label-width=\"100px\"\r\n          class=\"demo-ruleForm\"\r\n          style=\"margin-top: 10px\"\r\n        >\r\n          <el-form-item label=\"文章分类：\" prop=\"resource\">\r\n            <el-radio-group @change=\"radioChange\" v-model=\"ruleForm.resource\">\r\n              <el-radio label=\"考研交流\"></el-radio>\r\n              <el-radio label=\"找工作交流\"></el-radio>\r\n              <el-radio label=\"日常学习\"></el-radio>\r\n              <el-radio label=\"寻物启事\"></el-radio>\r\n              <el-radio label=\"拼单拼车\"></el-radio>\r\n              <el-radio label=\"表白墙\"></el-radio>\r\n              <el-radio label=\"生活趣事\"></el-radio>\r\n              <el-radio label=\"竞赛组队\"></el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- </div> -->\r\n    <el-card style=\"height: 610px\">\r\n      <quill-editor\r\n        v-model=\"content\"\r\n        ref=\"myQuillEditor\"\r\n        style=\"height: 500px\"\r\n        :options=\"editorOption\"\r\n      >\r\n        <!-- 自定义toolar -->\r\n        <div id=\"toolbar\" slot=\"toolbar\">\r\n          <!-- Add a bold button -->\r\n          <button class=\"ql-bold\" title=\"加粗\">Bold</button>\r\n          <button class=\"ql-italic\" title=\"斜体\">Italic</button>\r\n          <button class=\"ql-underline\" title=\"下划线\">underline</button>\r\n          <button class=\"ql-strike\" title=\"删除线\">strike</button>\r\n          <button class=\"ql-blockquote\" title=\"引用\"></button>\r\n          <button class=\"ql-code-block\" title=\"代码\"></button>\r\n          <button class=\"ql-header\" value=\"1\" title=\"标题1\"></button>\r\n          <button class=\"ql-header\" value=\"2\" title=\"标题2\"></button>\r\n          <!--Add list -->\r\n          <button class=\"ql-list\" value=\"ordered\" title=\"有序列表\"></button>\r\n          <button class=\"ql-list\" value=\"bullet\" title=\"无序列表\"></button>\r\n          <!-- Add font size dropdown -->\r\n          <select class=\"ql-header\" title=\"段落格式\">\r\n            <option selected>段落</option>\r\n            <option value=\"1\">标题1</option>\r\n            <option value=\"2\">标题2</option>\r\n            <option value=\"3\">标题3</option>\r\n            <option value=\"4\">标题4</option>\r\n            <option value=\"5\">标题5</option>\r\n            <option value=\"6\">标题6</option>\r\n          </select>\r\n          <select class=\"ql-size\" title=\"字体大小\">\r\n            <option value=\"10px\">10px</option>\r\n            <option value=\"12px\">12px</option>\r\n            <option value=\"14px\">14px</option>\r\n            <option value=\"16px\" selected>16px</option>\r\n            <option value=\"18px\">18px</option>\r\n            <option value=\"20px\">20px</option>\r\n          </select>\r\n          <select class=\"ql-font\" title=\"字体\">\r\n            <option value=\"SimSun\">宋体</option>\r\n            <option value=\"SimHei\">黑体</option>\r\n            <option value=\"Microsoft-YaHei\">微软雅黑</option>\r\n            <option value=\"KaiTi\">楷体</option>\r\n            <option value=\"FangSong\">仿宋</option>\r\n            <option value=\"Arial\">Arial</option>\r\n          </select>\r\n          <!-- Add subscript and superscript buttons -->\r\n          <select class=\"ql-color\" value=\"color\" title=\"字体颜色\"></select>\r\n          <select\r\n            class=\"ql-background\"\r\n            value=\"background\"\r\n            title=\"背景颜色\"\r\n          ></select>\r\n          <select class=\"ql-align\" value=\"align\" title=\"对齐\"></select>\r\n          <button class=\"ql-clean\" title=\"还原\"></button>\r\n          <!-- You can also add your own -->\r\n        </div>\r\n      </quill-editor>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Quill, quillEditor } from \"vue-quill-editor\";\r\nimport \"quill/dist/quill.core.css\";\r\nimport \"quill/dist/quill.snow.css\";\r\nimport \"quill/dist/quill.bubble.css\";\r\n\r\n//引入font.css\r\nimport \"@/assets/css/font.css\";\r\n\r\n// 自定义字体大小\r\nlet Size = Quill.import(\"attributors/style/size\");\r\nSize.whitelist = [\"10px\", \"12px\", \"14px\", \"16px\", \"18px\", \"20px\"];\r\nQuill.register(Size, true);\r\n\r\n// 自定义字体类型\r\nvar fonts = [\r\n  \"SimSun\",\r\n  \"SimHei\",\r\n  \"Microsoft-YaHei\",\r\n  \"KaiTi\",\r\n  \"FangSong\",\r\n  \"Arial\",\r\n  \"Times-New-Roman\",\r\n  \"sans-serif\",\r\n  \"宋体\",\r\n  \"黑体\",\r\n];\r\nvar Font = Quill.import(\"formats/font\");\r\nFont.whitelist = fonts;\r\nQuill.register(Font, true);\r\n\r\nexport default {\r\n  name: \"FuncFormsEdit\",\r\n  components: {\r\n    quillEditor,\r\n  },\r\n  data() {\r\n    return {\r\n      content: null,\r\n      input: \"\",\r\n      ruleForm: {\r\n        resource: \"\",\r\n      },\r\n      isEdit: false,\r\n      editorOption: {\r\n        placeholder: \"请输入\",\r\n        theme: \"snow\", // or 'bubble'\r\n        modules: {\r\n          toolbar: {\r\n            container: \"#toolbar\",\r\n          },\r\n        },\r\n      },\r\n      rules: {},\r\n      myCookie: \"\",\r\n      articleId: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getCookie();\r\n    console.log(\"页面传参\", this.$route);\r\n\r\n    this.input = this.$route.params.articleTitle;\r\n    this.content = this.$route.params.articleContent;\r\n    this.ruleForm.resource = this.$route.params.articleCategoryName;\r\n    this.isEdit = this.$route.params.isEdit;\r\n    this.articleId = this.$route.params.articleId;\r\n  },\r\n  methods: {\r\n    radioChange() {\r\n      //console.log(this.ruleForm.resource)\r\n    },\r\n    getCookie() {\r\n      let cookie = document.cookie;\r\n\r\n      let myCookie = cookie.split(\";\");\r\n      let cookieObj = {};\r\n      for (let i = 0; i < myCookie.length; i++) {\r\n        cookieObj[myCookie[i].split(\"=\")[0]] = myCookie[i].split(\"=\")[1];\r\n      }\r\n      console.log(11123132, cookieObj);\r\n      this.myCookie = cookieObj[\"Admin-Token\"];\r\n    },\r\n    Return() {\r\n      // console.log(this.input);\r\n      this.$router.go(-1);\r\n    },\r\n    mode() {\r\n      var reg = /<\\/?.+?\\/?>/g;\r\n      // console.log(this.content.replace(reg, \"\"));\r\n      var url = \"http://localhost:8080/article/edit\";\r\n      // var url = \"/insert\";\r\n      var _self = this;\r\n      let articleTitle = this.input;\r\n      let articleContent = this.content.replace(reg, \"\");\r\n      // let articleCategoryId = \"1\";\r\n      var obj = {\r\n        articleTitle: articleTitle,\r\n        articleContent: articleContent,\r\n        articleCategoryName: _self.ruleForm.resource,\r\n        //cookie: this.myCookie\r\n        articleId: _self.articleId,\r\n      };\r\n      var article = JSON.stringify(obj);\r\n\r\n      _self.$axios.defaults.withCredentials = true;\r\n      _self.$axios\r\n        .post(url, article, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=utf-8\",\r\n            //\"Cookie\": this.myCookie\r\n          },\r\n          withCredentials: true,\r\n          //baseURL: '/apis'\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          if (res.status == 200) {\r\n            if (res.data.code == 0) {\r\n              _self.input = \"\";\r\n              _self.content = \"\";\r\n              _self.$message.success(\"发布成功～\");\r\n            }\r\n            this.$router.push({\r\n              name: \"index\",\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    Publish() {\r\n      if (this.input && this.content) {\r\n        var reg = /<\\/?.+?\\/?>/g;\r\n        // console.log(this.content.replace(reg, \"\"));\r\n        var url = \"http://localhost:8080/article/insert\";\r\n        // var url = \"/insert\";\r\n        var _self = this;\r\n        let articleTitle = this.input;\r\n        let articleContent = this.content.replace(reg, \"\");\r\n        // let articleCategoryId = \"1\";\r\n        var obj = {\r\n          articleTitle: articleTitle,\r\n          articleContent: articleContent,\r\n          articleCategoryName: _self.ruleForm.resource,\r\n          //cookie: this.myCookie\r\n        };\r\n        var article = JSON.stringify(obj);\r\n        // let cookieParams = JSON.stringify({\r\n        //     cookie: this.myCookie\r\n        // })\r\n\r\n        _self.$axios.defaults.withCredentials = true;\r\n        _self.$axios\r\n          .post(url, article, {\r\n            headers: {\r\n              \"Content-Type\": \"application/json;charset=utf-8\",\r\n              //\"Cookie\": this.myCookie\r\n            },\r\n            withCredentials: true,\r\n            //baseURL: '/apis'\r\n          })\r\n          .then((res) => {\r\n            console.log(res.data);\r\n            if (res.status == 200) {\r\n              if (res.data.code == 0) {\r\n                _self.input = \"\";\r\n                _self.content = \"\";\r\n                _self.$message.success(\"发布成功～\");\r\n              }\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        this.$message.error(\"发布内容不能为空\");\r\n      }\r\n      // console.log(\"11111\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.logo {\r\n  width: 160px;\r\n  height: 60px;\r\n  line-height: 20px;\r\n  display: flex;\r\n  margin-right: 100px;\r\n  margin-top: 10px;\r\n  img {\r\n    width: 70px;\r\n    margin-left: 10px;\r\n  }\r\n  p {\r\n    font-size: 22px;\r\n    margin-top: 25px;\r\n    color: rgb(63, 61, 61);\r\n  }\r\n}\r\n/deep/.el-input__inner {\r\n  -webkit-appearance: none;\r\n  background-color: #fff;\r\n  background-image: none;\r\n  border-radius: 4px;\r\n  border: 0 !important;\r\n  box-sizing: border-box;\r\n  color: #606266;\r\n  display: inline-block;\r\n  font-size: 24px;\r\n  height: 60px;\r\n  // line-height: 100px;\r\n  outline: 0;\r\n  padding: 0 45px;\r\n  transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  width: 100%;\r\n  // border-bottom: 1px solid #ebeef5;\r\n}\r\n/deep/.el-card {\r\n  // border: 0 !important;\r\n  border: 1px solid #ebeef5;\r\n  background-color: #fff;\r\n  color: #303133;\r\n  transition: 0.3s;\r\n}\r\n/deep/.el-card__body {\r\n  padding: 10px;\r\n}\r\n/deep/.el-form-item {\r\n  margin-bottom: 12px !important;\r\n}\r\n</style>\r\n\r\n"]}]}